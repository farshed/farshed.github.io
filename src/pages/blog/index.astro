---
import { getCollection } from 'astro:content';
import Page from '../../layouts/Page.astro';
import PostItem from '../../components/PostItem.astro';
import { SITE_TITLE } from '../../consts';

const allPosts = (await getCollection('blog')).sort(
  (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
);

const meta = {
  title: `Blog Â· ${SITE_TITLE}`,
  description: "Faisal Arshed's Personal blog"
};
---

<Page {...meta}>
  <ul>
    {allPosts.map((post) => <PostItem post={post} />)}
  </ul>
</Page>

<style lang="scss">
  ul {
    row-gap: 1.5rem;
    padding: unset;
    display: flex;
    flex-direction: column;
    list-style-type: none;
  }
</style>
